Metadata-Version: 2.1
Name: catan-rl
Version: 0.1.0
Summary: Multi Agent Deep Reinforcement Learning for a simplified Settlers of Catan
Author-email: Anirud Aggarwal <anirud@umd.edu>, Jinhai Yan <jyan1236@umd.edu>, Han Lin <hlin1238@umd.edu>, Serena Huang <shuang04@umd.edu>, Rohit Kommuru <rkommuru@umd.edu>, Monish Napa <mnapa@umd.edu>
License: GPL-3.0 License
Requires-Python: <3.10,>=3.9
Description-Content-Type: text/markdown

# Multi Agent Deep Reinforcement Learning for Simplified Settlers of Catan


env setup

```
conda activate catan...

cp ./src/catan.py ~/dev/projects/catan-rl/MARLlib/marllib/envs/base_env/
cp ./src/config/catan.yaml ~/dev/projects/catan-rl/MARLlib/marllib/envs/base_env/config
cp -r ./src/catan_env/ ~/dev/projects/catan-rl/MARLlib/marllib/envs/base_env/

cd ~/dev/projects/catan-rl/MARLlib/
pip install .
```

To get started, first clone the repo:
```
git clone git@github.com:Catan-RL/catan-rl.git && cd catan-rl
# or
git clone https://github.com/Catan-RL/catan-rl.git && cd catan-rl
```

To install dependencies:

```
conda env create -f environment.yml
conda activate catan-rl
pip install -r requirements.txt
pip install -e .
```

On GCP instance:
```
# Install Git & dependencies for X11 forwarding over SSH
sudo apt install git libx11-6 libx11-dev xauth x11-xserver-utils mousepad xvfb # revise later
# Install Miniconda
mkdir -p ~/miniconda3
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O ~/miniconda3/miniconda.sh
bash ~/miniconda3/miniconda.sh -b -u -p ~/miniconda3
rm ~/miniconda3/miniconda.sh
source ~/miniconda3/bin/activate
conda init bash
```

To enable SSH X11 forwarding, edit `/etc/ssh/sshd_config` and set `X11UseLocalhost no`, then `systemctl restart sshd`.

To connect to GCP instance (currently the project is only set up for the `jyan1236` user):
```
gcloud compute ssh --ssh-flag="-Y" jyan1236@gpu-instance
```

GCP instance details:
```
NVIDIA T4 GPU
1 core 2 thread CPU
8 GB RAM
30 GB Disk Space
```

Install Marllib in a separate env: 

First, initalize the env and install PettingZoo dependencies: 
```
conda create -n marllib python=3.8
conda activate marllib
pip install pettingzoo==1.23.1
pip install supersuit==3.9.0
pip install pygame==2.3.0
```
Next, in a separate directory, clone the Marllib repo and run the following commands: 
```
git clone https://github.com/Replicable-MARL/MARLlib.git
cd MARLlib
pip install --upgrade pip
```
In Marllib's requirements.txt file, change the line: 
```
gym==0.20.0
```
to 
```
gym
```
then 
```
pip install -r requirements.txt
```
Next, we need to add a patch and install marllib
```
pip install protobuf==3.20.3
cd MARLlib/marllib/patch
python add_patch.py -y
pip install marllib
pip install gym==0.22.0
```
You should be able to run marllib example code using
```
python mappo_example.py
```
